{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "clean/pricing-table",
  "type": "registry:component",
  "title": "Pricing Table",
  "description": "A pricing table component",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "switch"
  ],
  "files": [
    {
      "path": "registry/clean/pricing-table.tsx",
      "content": "\"use client\";\n\nimport React from \"react\";\nimport { createContext, useContext, useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Button } from \"@/components/ui/button\";\nimport { Check, Loader2 } from \"lucide-react\";\nimport type { Product } from \"@/types/product\";\n\n// Update context to include showFeatures\nconst PricingTableContext = createContext<{\n  isAnnual: boolean;\n  setIsAnnual: (isAnnual: boolean) => void;\n  products: Product[];\n  showFeatures: boolean;\n  uniform: boolean;\n}>({\n  isAnnual: false,\n  setIsAnnual: () => {},\n  products: [],\n  showFeatures: true,\n  uniform: false,\n});\n\nexport const usePricingTableContext = (componentName: string) => {\n  const context = useContext(PricingTableContext);\n\n  if (context === undefined) {\n    throw new Error(`${componentName} must be used within <PricingTable />`);\n  }\n\n  return context;\n};\n\nexport const PricingTable = ({\n  children,\n  products,\n  showFeatures = true,\n  className,\n  uniform = false,\n}: {\n  children?: React.ReactNode;\n  products?: Product[];\n  showFeatures?: boolean;\n  className?: string;\n  uniform?: boolean;\n}) => {\n  const [isAnnual, setIsAnnual] = useState(false);\n\n  if (!products) {\n    throw new Error(\"products is required in <PricingTable />\");\n  }\n\n  return (\n    <PricingTableContext.Provider\n      value={{ isAnnual, setIsAnnual, products, showFeatures, uniform }}\n    >\n      <div className={cn(\"flex items-center flex-col\")}>\n        {products.some((p) => p.priceAnnual) && (\n          <div\n            className={cn(\n              products.some((p) => p.recommendedText) && !uniform && \"mb-8\"\n            )}\n          >\n            <AnnualSwitch isAnnual={isAnnual} setIsAnnual={setIsAnnual} />\n          </div>\n        )}\n        <div\n          className={cn(\n            \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-none lg:auto-cols-[minmax(200px,1fr)] lg:grid-flow-col gap-4 w-full\",\n            className\n          )}\n        >\n          {children}\n        </div>\n      </div>\n    </PricingTableContext.Provider>\n  );\n};\n\ninterface PricingCardProps {\n  productId: string;\n  className?: string;\n  onButtonClick?: (event: React.MouseEvent<HTMLButtonElement>) => void;\n  buttonProps?: React.ComponentProps<\"button\">;\n}\n\nexport const PricingCard = ({\n  productId,\n  className,\n  onButtonClick,\n  buttonProps,\n}: PricingCardProps) => {\n  const { isAnnual, products, showFeatures, uniform } =\n    usePricingTableContext(\"PricingCard\");\n  const product = products.find((p) => p.id === productId);\n\n  if (!product) {\n    throw new Error(`Product with id ${productId} not found`);\n  }\n\n  const {\n    name,\n    price,\n    priceAnnual,\n    recommendedText,\n    buttonText,\n    items,\n    description,\n    buttonUrl,\n    everythingFrom,\n  } = product;\n\n  const isRecommended = recommendedText ? true : false;\n\n  return (\n    <div\n      className={cn(\n        \"border rounded-md bg-background w-full h-full pt-6 text-foreground\",\n        recommendedText &&\n          !uniform &&\n          \"shadow-xl border-primary/30 lg:-translate-y-6 lg:h-[calc(100%+48px)] relative\",\n        className\n      )}\n    >\n      {recommendedText && !uniform && (\n        <RecommendedBadge recommended={recommendedText} />\n      )}\n      <div\n        className={cn(\n          \"px-6\",\n          recommendedText && !uniform && \"lg:translate-y-6\"\n        )}\n      >\n        <div className=\"flex flex-col gap-2 \">\n          <h2 className=\"text-sm font-medium uppercase\">{name}</h2>\n          {description && (\n            <span className=\"text-sm h-14 line-clamp-3\">{description}</span>\n          )}\n          <div className=\"flex flex-col\">\n            <h3 className=\"font-semibold flex items-center text-3xl mb-1 \">\n              {isAnnual && priceAnnual\n                ? priceAnnual?.primaryText\n                : price.primaryText}{\" \"}\n            </h3>\n\n            {price.secondaryText && (\n              <span className=\"font-normal text-muted-foreground text-sm pb-4 h-10 line-clamp-2\">\n                {isAnnual && priceAnnual\n                  ? priceAnnual?.secondaryText\n                  : price.secondaryText}\n              </span>\n            )}\n          </div>\n          <div className={cn(\" mb-6 \")}>\n            <PricingCardButton\n              recommended={isRecommended}\n              buttonUrl={buttonUrl}\n              onClick={onButtonClick}\n              {...buttonProps}\n            >\n              {buttonText}\n            </PricingCardButton>\n          </div>\n        </div>\n        {showFeatures && items.length > 0 && (\n          <div className=\"flex-grow\">\n            <PricingFeatureList\n              items={items}\n              showIcon={true}\n              everythingFrom={everythingFrom}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Pricing Feature List\nexport const PricingFeatureList = ({\n  items,\n  showIcon = true,\n  everythingFrom,\n  className,\n}: {\n  items: {\n    primaryText: string;\n    secondaryText?: string;\n  }[];\n  showIcon?: boolean;\n  everythingFrom?: string;\n  className?: string;\n}) => {\n  return (\n    <div className={cn(\"pb-6 flex-grow\", className)}>\n      {everythingFrom && (\n        <p className=\"text-sm mb-4\">Everything from {everythingFrom}, plus:</p>\n      )}\n      <div className=\"space-y-3\">\n        {items.map((item, index) => (\n          <div key={index} className=\"flex items-start gap-2 text-sm\">\n            {showIcon && (\n              <Check className=\"h-4 w-4 text-primary flex-shrink-0 mt-0.5\" />\n            )}\n            <div className=\"flex flex-col\">\n              <span>{item.primaryText}</span>\n              {item.secondaryText && (\n                <span className=\"text-sm text-muted-foreground\">\n                  {item.secondaryText}\n                </span>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// Pricing Card Button\nexport interface PricingCardButtonProps extends React.ComponentProps<\"button\"> {\n  recommended?: boolean;\n  buttonUrl?: string;\n}\n\nexport const PricingCardButton = React.forwardRef<\n  HTMLButtonElement,\n  PricingCardButtonProps\n>(({ recommended, children, buttonUrl, onClick, className, ...props }, ref) => {\n  const [loading, setLoading] = useState(false);\n  return (\n    <Button\n      className={cn(\n        \"w-full py-3 px-4 rounded-md group overflow-hidden relative transition-all duration-300 hover:brightness-90\",\n        className\n      )}\n      variant={recommended ? \"default\" : \"secondary\"}\n      ref={ref}\n      disabled={loading}\n      onClick={async (e) => {\n        if (buttonUrl) {\n          window.open(buttonUrl, \"_blank\");\n          return;\n        }\n\n        if (onClick) {\n          setLoading(true);\n          await onClick(e);\n          setLoading(false);\n        }\n      }}\n      {...props}\n    >\n      {loading ? (\n        <Loader2 className=\"h-4 w-4 animate-spin\" />\n      ) : (\n        <>\n          {\" \"}\n          <div className=\"flex items-center justify-between w-full transition-transform duration-300 group-hover:translate-y-[-130%]\">\n            <span>{children}</span>\n            <span className=\"text-sm\">→</span>\n          </div>\n          <div className=\"flex items-center justify-between w-full absolute px-4 translate-y-[130%] transition-transform duration-300 group-hover:translate-y-0 mt-2 group-hover:mt-0\">\n            <span>{children}</span>\n            <span className=\"text-sm\">→</span>\n          </div>\n        </>\n      )}\n    </Button>\n  );\n});\nPricingCardButton.displayName = \"PricingCardButton\";\n\n// Annual Switch\nexport const AnnualSwitch = ({\n  isAnnual,\n  setIsAnnual,\n}: {\n  isAnnual: boolean;\n  setIsAnnual: (isAnnual: boolean) => void;\n}) => {\n  return (\n    <div className=\"flex items-center space-x-2 mb-4\">\n      <span className=\"text-sm text-muted-foreground\">Monthly</span>\n      <Switch\n        id=\"annual-billing\"\n        checked={isAnnual}\n        onCheckedChange={setIsAnnual}\n      />\n      <span className=\"text-sm text-muted-foreground\">Annual</span>\n    </div>\n  );\n};\n\nexport const RecommendedBadge = ({ recommended }: { recommended: string }) => {\n  return (\n    <div className=\"bg-primary absolute w-fit border text-primary-foreground flex items-center justify-center text-xs uppercase font-medium lg:rounded-full px-3 py-0.5 lg:top-3 lg:right-3 -top-[1px] -right-[1px] rounded-bl-md\">\n      {recommended}\n    </div>\n  );\n};\n",
      "type": "registry:component",
      "target": "components/pricing/pricing-table.tsx"
    },
    {
      "path": "registry/clean/example.tsx",
      "content": "\"use client\";\nimport { Button } from \"@/components/ui/button\";\nimport { PricingCard, PricingTable } from \"./pricing-table\";\nimport type { Product } from \"@/types/product\";\n\nexport const products: Product[] = [\n  {\n    id: \"hobby\",\n    name: \"Hobby\",\n    description: \"For personal projects and small-scale applications.\",\n    price: { primaryText: \"Free\", secondaryText: \"up to 3 users\" },\n    buttonText: \"Start deploying\",\n    items: [\n      {\n        primaryText: \"Deploy full-stack apps in minutes\",\n      },\n      {\n        primaryText: \"Fully-managed datastores\",\n      },\n      {\n        primaryText: \"Custom domains\",\n      },\n      {\n        primaryText: \"Global CDN & regional hosting\",\n      },\n      {\n        primaryText: \"Get security out of the box\",\n      },\n      {\n        primaryText: \"Email support\",\n      },\n    ],\n  },\n  {\n    id: \"professional\",\n    name: \"Professional\",\n    description: \"For teams building production applications.\",\n    recommendedText: \"Best Value\",\n    price: {\n      primaryText: \"$19\",\n      secondaryText: \"per user/month plus compute costs*\",\n    },\n    priceAnnual: {\n      primaryText: \"$190\",\n      secondaryText: \"per user/year plus compute costs*\",\n    },\n    buttonText: \"Select plan\",\n    everythingFrom: \"Hobby\",\n    items: [\n      {\n        primaryText: \"10 team members included\",\n        secondaryText: \"Then $20 per member\",\n      },\n      {\n        primaryText: \"500 GB of bandwidth included\",\n      },\n      {\n        primaryText: \"Unlimited projects & environments\",\n      },\n      {\n        primaryText: \"Horizontal autoscaling\",\n      },\n      {\n        primaryText: \"Test with preview environments\",\n      },\n      {\n        primaryText: \"Isolated environments\",\n      },\n    ],\n  },\n  {\n    id: \"enterprise\",\n    name: \"Enterprise\",\n    description: \"For mission critical applications with complex needs.\",\n    price: { primaryText: \"Custom\" },\n    buttonText: \"Get in touch\",\n    everythingFrom: \"Organization\",\n    items: [\n      {\n        primaryText: \"Centralized team management\",\n      },\n      {\n        primaryText: \"Guest users\",\n      },\n      {\n        primaryText: \"SAML SSO & SCIM\",\n      },\n      {\n        primaryText: \"Guaranteed uptime\",\n      },\n      {\n        primaryText: \"Premium support\",\n      },\n      {\n        primaryText: \"Customer success\",\n      },\n    ],\n  },\n];\n\nexport const PricingTableExample = () => {\n  return (\n    <div>\n      <Button\n        onClick={() => document.documentElement.classList.toggle(\"dark\")}\n        className=\"p-2 mb-4 rounded-lg text-zinc-600 dark:text-zinc-300 \n        bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors\"\n      >\n        Toggle theme\n      </Button>\n      <PricingTable products={products} showFeatures={true}>\n        <PricingCard productId=\"hobby\" />\n        <PricingCard productId=\"professional\" />\n        <PricingCard productId=\"enterprise\" />\n      </PricingTable>\n    </div>\n  );\n};\n",
      "type": "registry:component",
      "target": "components/pricing/example.tsx"
    }
  ]
}